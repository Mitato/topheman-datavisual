<div class="view-main">

  <ol class="breadcrumb">
    <li class="title"><a ng-href="/">Topheman Datavisual</a></li>
    <li>Home ({{data.count}} tweet{{data.count > 1 ? 's' : ''}})</li>
  </ol>

  <div class="panel panel-default">
    <div class="panel-body">
      <connexion-time></connexion-time>
    </div>
  </div>
  
  <debug-state ng-if="false"></debug-state>

  <div class="panel panel-default pannel-tree-chart">
    <!-- Default panel contents -->
    <div class="panel-heading" ng-click="displayState.treeChartChannels = !displayState.treeChartChannels">
      Tree chart
      <span ng-class="{'glyphicon':true, 'glyphicon-chevron-down' : !displayState.treeChartChannels, 'glyphicon-chevron-up':displayState.treeChartChannels}"></span>
    </div>
    <tree-chart-channels data-data="data" ng-if="displayState.treeChartChannels"></tree-chart-channels>
  </div>

  <div class="panel panel-default pannel-pack-chart">
    <!-- Default panel contents -->
    <div class="panel-heading" ng-click="displayState.packChartChannels = !displayState.packChartChannels">
      Pack chart
      <span ng-class="{'glyphicon':true, 'glyphicon-chevron-down' : !displayState.packChartChannels, 'glyphicon-chevron-up':displayState.packChartChannels}"></span>
    </div>
    <pack-chart-channels data-data="data" ng-if="displayState.packChartChannels"></pack-chart-channels>
  </div>
  
  <h3>Topheman Datavisual</h3>
  
  <p>The purpose of this site was for me to make an application using <strong>Angular</strong> and <strong>d3</strong> together with real-time data.</p>
  <p>All the d3 directives (the graphs) that you will see are home made in pure d3 and plugged in to Angular - they also are responsive.</p>
  <p>
    The data comes from the Twitter Stream API - it's like if the server was directly plugged in to Twitter's, listening to all the tweets matching the specified keywords.<br>
    Resulting tweets are post-processed by <a href="https://github.com/topheman/twitter-stream-channels" title="twitter-stream-channels on github">twitter-stream-channels</a>, a node module I made, and then are transferred in realtime by my node server to the frontend via websockets.
  </p>
  <ul>
    <li><a href="https://github.com/topheman/topheman-datavisual" title="topheman-datavisual on github">Sources on github</a></li>
    <li><a href="https://github.com/topheman/twitter-stream-channels" title="twitter-stream-channels on github">twitter-stream-channels on github</a></li>
    <li>blog post</li>
  </ul>

  <div ng-repeat="channel in data.channelsDescription" ng-if="false">
    <h4>{{channel.title}}</h4>
    <p>{{data.channels[$index].count}} tweets</p>
    <ul>
      <li ng-repeat="keyword in data.channels[$index].keywords">"{{keyword.name}}" found {{keyword.count}} times</li>
    </ul>
    <hr>
  </div>

  <footer class="footer">
    <p class="container">
      Â©2014 <a href="http://labs.topheman.com/">labs.topheman.com</a> - Christophe Rosset
    </p>
  </footer>

</div>